---
title: "Titanic sinking"
author: "Stefano Galeano"
date: "19 dicembre 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
train <- read.csv('train.csv', header = TRUE, stringsAsFactors = FALSE, na.strings = c(""))
train$Survived <- as.factor(train$Survived)
train$Sex <- as.factor(train$Sex)
train$Embarked <- as.factor(train$Embarked)

test <- read.csv('test.csv', header = TRUE,stringsAsFactors = FALSE, na.strings = c(""))
test$Sex <- as.factor(test$Sex)
test$Embarked <- as.factor(test$Embarked)
```
```{r}
train$Ticket.initials <- gsub(pattern = "^((.*) )?(\\d*)?$", x=train$Ticket, replacement="\\2")
train$Ticket.initials <- as.factor(train$Ticket.initial)
train$Ticket.number <- gsub(pattern = "^((.*) )?(\\d*)?$", x=train$Ticket, replacement="\\3")
train$Ticket.number <- gsub(pattern = "^LINE$", x=train$Ticket.number, replacement="0")
train$Ticket.number <- as.integer(train$Ticket.number)

test$Ticket.initials <- gsub(pattern = "^((.*) )?(\\d*)?$", x=test$Ticket, replacement="\\2")
test$Ticket.initials <- as.factor(test$Ticket.initial)
test$Ticket.number <- gsub(pattern = "^((.*) )?(\\d*)?$", x=test$Ticket, replacement="\\3")
test$Ticket.number <- gsub(pattern = "^LINE$", x=test$Ticket.number, replacement="0")
test$Ticket.number <- as.integer(test$Ticket.number)
```
